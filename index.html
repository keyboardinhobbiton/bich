<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magico Emporio di Shopify</title>
    <style>
        :root {
            /* Colori in stile Harry Potter */
            --hogwarts-red: #740001;
            --hogwarts-gold: #D3A625;
            --ravenclaw-blue: #0E1A40;
            --slytherin-green: #1A472A;
            --parchment: #F5F5DC;
            --dark-wood: #5C4033;
        }

        body {
            font-family: 'Georgia', serif;
            background-color: var(--parchment);
            color: var(--ravenclaw-blue);
            margin: 0;
            padding: 0;
            background-image: url('/api/placeholder/1200/800');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            min-height: 100vh;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--hogwarts-red);
            color: var(--hogwarts-gold);
            padding: 20px 0;
            border-bottom: 4px solid var(--hogwarts-gold);
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 2.5rem;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            letter-spacing: 2px;
        }

        .tagline {
            font-style: italic;
            margin-top: 10px;
            font-size: 1.2rem;
        }

        main {
            display: flex;
            flex-direction: column;
            margin-top: 40px;
            background-color: rgba(245, 245, 220, 0.85);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .search-container {
            display: flex;
            flex-direction: column;
            margin-bottom: 30px;
        }

        @media (min-width: 768px) {
            main {
                flex-direction: row;
                gap: 30px;
            }
            
            .search-container {
                flex: 1;
                margin-bottom: 0;
            }
            
            .results-container {
                flex: 2;
            }
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        input[type="text"] {
            flex: 1;
            padding: 15px;
            font-size: 1rem;
            border: 2px solid var(--dark-wood);
            border-radius: 5px;
            background-color: var(--parchment);
            color: var(--ravenclaw-blue);
            font-family: 'Georgia', serif;
        }

        button {
            background-color: var(--hogwarts-red);
            color: var(--hogwarts-gold);
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            font-weight: bold;
            font-family: 'Georgia', serif;
            font-size: 1rem;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: var(--slytherin-green);
            transform: translateY(-2px);
        }

        .filters {
            background-color: var(--parchment);
            padding: 15px;
            border-radius: 5px;
            border: 1px solid var(--dark-wood);
        }

        .filters h3 {
            margin-top: 0;
            color: var(--hogwarts-red);
        }

        .results-container {
            background-color: var(--parchment);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid var(--dark-wood);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--hogwarts-gold);
            padding-bottom: 10px;
        }

        .results-header h2 {
            color: var(--hogwarts-red);
            margin: 0;
        }

        .sort-options select {
            padding: 8px;
            border: 1px solid var(--dark-wood);
            border-radius: 4px;
            background-color: var(--parchment);
            color: var(--ravenclaw-blue);
            font-family: 'Georgia', serif;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .product-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .product-info {
            padding: 15px;
        }

        .product-title {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--ravenclaw-blue);
        }

        .product-price {
            color: var(--hogwarts-red);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .product-availability {
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .available {
            color: var(--slytherin-green);
        }

        .unavailable {
            color: var(--hogwarts-red);
        }

        .add-to-cart {
            display: block;
            width: 100%;
            padding: 10px;
            margin-top: 15px;
            background-color: var(--hogwarts-gold);
            color: var(--ravenclaw-blue);
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .add-to-cart:hover {
            background-color: var(--hogwarts-red);
            color: var(--hogwarts-gold);
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left: 4px solid var(--hogwarts-red);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        .no-results {
            text-align: center;
            padding: 40px;
            color: var(--ravenclaw-blue);
            font-style: italic;
        }

        footer {
            margin-top: 50px;
            text-align: center;
            padding: 20px;
            background-color: var(--ravenclaw-blue);
            color: var(--parchment);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Magico Emporio di Shopify</h1>
            <div class="tagline">Dove la magia dell'e-commerce prende vita</div>
        </div>
    </header>

    <div class="container">
        <main>
            <div class="search-container">
                <h2>Cerca i tuoi incantesimi preferiti</h2>
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="Cerca prodotti magici...">
                    <button id="search-button">Cerca</button>
                </div>
                
                <div class="filters">
                    <h3>Filtri Magici</h3>
                    <div>
                        <label for="category">Categoria:</label>
                        <select id="category">
                            <option value="">Tutte le categorie</option>
                            <option value="pozioni">Pozioni</option>
                            <option value="libri">Libri di incantesimi</option>
                            <option value="accessori">Accessori magici</option>
                        </select>
                    </div>
                    <div style="margin-top: 10px;">
                        <label for="price-range">Prezzo massimo:</label>
                        <input type="range" id="price-range" min="0" max="1000" value="500">
                        <span id="price-value">500€</span>
                    </div>
                </div>
            </div>

            <div class="results-container">
                <div class="results-header">
                    <h2>Risultati della ricerca</h2>
                    <div class="sort-options">
                        <select id="sort-by">
                            <option value="relevance">Rilevanza</option>
                            <option value="price-asc">Prezzo: dal più basso</option>
                            <option value="price-desc">Prezzo: dal più alto</option>
                            <option value="name-asc">Nome: A-Z</option>
                        </select>
                    </div>
                </div>

                <div class="loading" id="loading">
                    <div class="loading-spinner"></div>
                    <p>Caricamento della magia in corso...</p>
                </div>

                <div class="no-results" id="no-results">
                    <p>Nessun prodotto magico trovato. Prova con un altro incantesimo di ricerca.</p>
                </div>

                <div class="product-grid" id="product-grid">
                    <!-- I prodotti saranno inseriti qui dinamicamente -->
                </div>
            </div>
        </main>
    </div>

    <footer>
        <div class="container">
            <p>© 2025 Magico Emporio di Shopify - Un'esperienza magica di e-commerce</p>
        </div>
    </footer>

    <script>
        // Simula il comportamento dell'API Shopify
        const mockProducts = [
            {
                id: 1,
                title: "Pozione Polisucco",
                price: "29.99",
                image: "/api/placeholder/250/200",
                available: true
            },
            {
                id: 2,
                title: "Bacchetta di Sambuco",
                price: "149.99",
                image: "/api/placeholder/250/200",
                available: false
            },
            {
                id: 3,
                title: "Mantello dell'Invisibilità",
                price: "99.99",
                image: "/api/placeholder/250/200",
                available: true
            },
            {
                id: 4,
                title: "Mappa del Malandrino",
                price: "49.99",
                image: "/api/placeholder/250/200",
                available: true
            },
            {
                id: 5,
                title: "Nimbus 2000",
                price: "299.99",
                image: "/api/placeholder/250/200",
                available: true
            },
            {
                id: 6,
                title: "Guida Completa agli Incantesimi",
                price: "24.99",
                image: "/api/placeholder/250/200",
                available: true
            }
        ];

        // Elementi DOM
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');
        const productGrid = document.getElementById('product-grid');
        const loadingElement = document.getElementById('loading');
        const noResultsElement = document.getElementById('no-results');
        const priceRange = document.getElementById('price-range');
        const priceValue = document.getElementById('price-value');
        const categorySelect = document.getElementById('category');
        const sortSelect = document.getElementById('sort-by');

        // Aggiorna il valore del prezzo visualizzato
        priceRange.addEventListener('input', function() {
            priceValue.textContent = `${this.value}€`;
        });

        // Funzione per mostrare i prodotti
        function displayProducts(products) {
            productGrid.innerHTML = '';
            
            if (products.length === 0) {
                noResultsElement.style.display = 'block';
                return;
            }
            
            noResultsElement.style.display = 'none';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                
                productCard.innerHTML = `
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.title}" width="250" height="200">
                    </div>
                    <div class="product-info">
                        <div class="product-title">${product.title}</div>
                        <div class="product-price">${product.price}€</div>
                        <div class="product-availability ${product.available ? 'available' : 'unavailable'}">
                            ${product.available ? 'Disponibile' : 'Non disponibile'}
                        </div>
                        <button class="add-to-cart" ${!product.available ? 'disabled' : ''}>
                            ${product.available ? 'Aggiungi al Carrello' : 'Esaurito'}
                        </button>
                    </div>
                `;
                
                productGrid.appendChild(productCard);
            });
        }

        // Funzione per cercare prodotti (simula chiamata API)
        async function searchProducts() {
            const searchTerm = searchInput.value.toLowerCase();
            const maxPrice = parseInt(priceRange.value);
            const category = categorySelect.value;
            const sortBy = sortSelect.value;
            
            // Mostra loading
            loadingElement.style.display = 'block';
            productGrid.innerHTML = '';
            noResultsElement.style.display = 'none';
            
            // Simula la chiamata API con un ritardo
            setTimeout(() => {
                // Filtra i prodotti
                let filteredProducts = mockProducts.filter(product => {
                    const matchesSearch = product.title.toLowerCase().includes(searchTerm);
                    const matchesPrice = parseFloat(product.price) <= maxPrice;
                    const matchesCategory = category === '' || product.title.toLowerCase().includes(category);
                    
                    return matchesSearch && matchesPrice && matchesCategory;
                });
                
                // Ordina i prodotti
                switch(sortBy) {
                    case 'price-asc':
                        filteredProducts.sort((a, b) => parseFloat(a.price) - parseFloat(b.price));
                        break;
                    case 'price-desc':
                        filteredProducts.sort((a, b) => parseFloat(b.price) - parseFloat(a.price));
                        break;
                    case 'name-asc':
                        filteredProducts.sort((a, b) => a.title.localeCompare(b.title));
                        break;
                    default:
                        // Rilevanza (default)
                        break;
                }
                
                // Nasconde loading
                loadingElement.style.display = 'none';
                
                // Mostra i prodotti
                displayProducts(filteredProducts);
            }, 800); // Simula il ritardo di una chiamata API
        }

        // Evento click sul bottone di ricerca
        searchButton.addEventListener('click', searchProducts);

        // Evento pressione Enter nella casella di ricerca
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchProducts();
            }
        });

        // Cambiamenti nei filtri
        categorySelect.addEventListener('change', searchProducts);
        priceRange.addEventListener('change', searchProducts);
        sortSelect.addEventListener('change', searchProducts);

        // Visualizza tutti i prodotti all'avvio
        window.addEventListener('load', function() {
            displayProducts(mockProducts);
        });
    </script>
</body>
</html>
